"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var http=require("http"),handle=process.env.CURSOR_SSH_ASKPASS_HANDLE;handle||(console.error("Error: CURSOR_SSH_ASKPASS_HANDLE environment variable is not set"),process.exit(1));var request={request:process.argv.slice(2).join(" ")},isPort=!isNaN(parseInt(handle,10)),options={method:"POST",headers:{"Content-Type":"application/json"}};isPort?(options.port=parseInt(handle,10),options.hostname="127.0.0.1"):options.socketPath=handle;var clientRequest=http.request(options,(function(e){var o="";200!==e.statusCode&&(console.error("Server returned status code: ".concat(e.statusCode)),process.exit(1)),e.on("data",(function(e){o+=e})),e.on("end",(function(){process.stdout.write(o)})),e.on("error",(function(e){console.error("Error receiving response: ".concat(e.message)),process.exit(1)}))}));clientRequest.on("error",(function(e){isPort?console.error("Error connecting to port ".concat(handle,": ").concat(e.message)):console.error("Error connecting to socket ".concat(handle,": ").concat(e.message)),process.exit(1)})),clientRequest.write(JSON.stringify(request)),clientRequest.end();